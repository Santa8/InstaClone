{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/LogIn/LogIn.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\n\nvar axios = require(\"axios\");\n\nimport { connect } from \"react-redux\";\nimport AuthStyle from \"./style/AuthStyle\";\nvar styles = StyleSheet.create(_objectSpread({}, AuthStyle));\nimport { isLogedIn } from \"../../actions/AuthActions\";\nimport { login as _login } from \"../../actions/loginActions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\nimport insta from \"../../assets/image/insta.png\";\n\nfunction LogIn(props) {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      putEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      putPassword = _useState4[1];\n\n  var didMountRef = useRef(false);\n  useEffect(function () {\n    if (didMountRef.current) {\n      if (props.isAuth) {\n        props.navigation.navigate(\"Home\");\n      } else if (!props.isAuth && !props.isLoading) {\n        Alert.alert(props.errMsg);\n      }\n    } else {\n      didMountRef.current = true;\n    }\n  }, [props.isAuth, props.isLoading]);\n\n  var loginHandler = function loginHandler() {\n    var loginData = {\n      email: email,\n      password: password\n    };\n    props.login(loginData);\n  };\n\n  function renderLogo() {\n    return React.createElement(View, {\n      style: {\n        marginTop: SIZES.padding * 2,\n        height: 100,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        marginBottom: 30\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, React.createElement(Image, {\n      source: insta,\n      resizeMode: \"contain\",\n      style: {\n        width: \"60%\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  function renderButton(text, onPress) {\n    return React.createElement(View, {\n      style: {\n        margin: SIZES.padding * 0.5,\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, React.createElement(TouchableOpacity, {\n      style: {\n        height: 60,\n        width: 250,\n        backgroundColor: COLORS.black,\n        borderRadius: SIZES.radius / 0.2,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      onPress: onPress,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, React.createElement(Text, {\n      style: _objectSpread({\n        color: COLORS.white\n      }, FONTS.h3),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, text)));\n  }\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, React.createElement(LinearGradient, {\n    colors: [COLORS.primary, COLORS.primary],\n    style: {\n      flex: 1,\n      alignItems: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 11\n    }\n  }, renderLogo(), React.createElement(Text, {\n    style: styles.titleText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Login\"), React.createElement(View, {\n    style: {\n      marginBottom: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, React.createElement(TextInput, {\n    style: styles.TextInput,\n    placeholder: \"Email\",\n    id: \"email\",\n    onChangeText: function onChangeText(text) {\n      return putEmail(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 15\n    }\n  }), React.createElement(TextInput, {\n    style: styles.TextInput,\n    id: \"password\",\n    placeholder: \"Password\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(text) {\n      return putPassword(text);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  })), renderButton(\"LogIn\", loginHandler), renderButton(\"SignUp\", function () {\n    return props.navigation.navigate(\"Register\");\n  })))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isLoading: state.loginReducer.isLoading,\n    isAuth: state.loginReducer.isAuth,\n    errMsg: state.loginReducer.errMsg\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    login: function login(loginData) {\n      return dispatch(_login(loginData));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LogIn);","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/LogIn/LogIn.js"],"names":["React","useState","useRef","useEffect","axios","require","connect","AuthStyle","styles","StyleSheet","create","isLogedIn","login","LinearGradient","COLORS","SIZES","FONTS","insta","LogIn","props","email","putEmail","password","putPassword","didMountRef","current","isAuth","navigation","navigate","isLoading","Alert","alert","errMsg","loginHandler","loginData","renderLogo","marginTop","padding","height","alignItems","justifyContent","marginBottom","width","renderButton","text","onPress","margin","backgroundColor","black","borderRadius","radius","color","white","h3","flex","primary","titleText","TextInput","mapStateToProps","state","loginReducer","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\nimport {\n  Image,\n  View,\n  Button,\n  TextInput,\n  Text,\n  Alert,\n  StyleSheet,\n  ScrollView,\n  KeyboardAvoidingView,\n  TouchableOpacity,\n} from \"react-native\";\nconst axios = require(\"axios\");\nimport { connect } from \"react-redux\";\nimport AuthStyle from \"./style/AuthStyle\";\nconst styles = StyleSheet.create({ ...AuthStyle });\nimport { isLogedIn } from \"../../actions/AuthActions\";\nimport { login } from \"../../actions/loginActions\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\nimport insta from \"../../assets/image/insta.png\";\n\nfunction LogIn(props) {\n  const [email, putEmail] = useState(\"\");\n  const [password, putPassword] = useState(\"\");\n\n  const didMountRef = useRef(false);\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      // if login success, go to home screen\n      if (props.isAuth) {\n        props.navigation.navigate(\"Home\");\n      } else if (!props.isAuth && !props.isLoading) {\n        Alert.alert(props.errMsg);\n      }\n    } else {\n      didMountRef.current = true;\n    }\n  }, [props.isAuth, props.isLoading]);\n\n  const loginHandler = () => {\n    const loginData = {\n      email: email,\n      password: password,\n    };\n    // calling login() dispatch function\n    props.login(loginData);\n  };\n\n  function renderLogo() {\n    return (\n      <View\n        style={{\n          marginTop: SIZES.padding * 2,\n          height: 100,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          marginBottom: 30,\n        }}\n      >\n        <Image\n          source={insta}\n          resizeMode=\"contain\"\n          style={{\n            width: \"60%\",\n          }}\n        />\n      </View>\n    );\n  }\n\n  function renderButton(text, onPress) {\n    return (\n      <View style={{ margin: SIZES.padding * 0.5, alignItems: \"center\" }}>\n        <TouchableOpacity\n          style={{\n            height: 60,\n            width: 250,\n            backgroundColor: COLORS.black,\n            borderRadius: SIZES.radius / 0.2,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n          onPress={onPress}\n        >\n          <Text style={{ color: COLORS.white, ...FONTS.h3 }}>{text}</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  return (\n    <KeyboardAvoidingView style={{ flex: 1 }}>\n      <LinearGradient\n        colors={[COLORS.primary, COLORS.primary]}\n        style={{ flex: 1, alignItems: \"center\" }}\n      >\n        <ScrollView>\n          <View>\n            {renderLogo()}\n\n            <Text style={styles.titleText}>Login</Text>\n            <View style={{ marginBottom: 20 }}>\n              <TextInput\n                style={styles.TextInput}\n                placeholder=\"Email\"\n                id=\"email\"\n                onChangeText={(text) => putEmail(text)}\n              />\n              <TextInput\n                style={styles.TextInput}\n                id=\"password\"\n                placeholder=\"Password\"\n                secureTextEntry={true}\n                onChangeText={(text) => putPassword(text)}\n              />\n            </View>\n            {renderButton(\"LogIn\", loginHandler)}\n            {renderButton(\"SignUp\", () =>\n              props.navigation.navigate(\"Register\")\n            )}\n          </View>\n        </ScrollView>\n      </LinearGradient>\n    </KeyboardAvoidingView>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    // only map needed states here\n    isLoading: state.loginReducer.isLoading,\n    isAuth: state.loginReducer.isAuth,\n    errMsg: state.loginReducer.errMsg,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // only map needed dispatches here\n    login: (loginData) => dispatch(login(loginData)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LogIn);\n"]},"metadata":{},"sourceType":"module"}