{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Profile/PostComponent.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component, TouchableOpacity } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { baseURL } from \"../../constants\";\nimport { Card, CardItem, Thumbnail, Body, Left, Right, Button, Icon } from \"native-base\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\n\nvar PostComponent = function (_Component) {\n  _inherits(PostComponent, _Component);\n\n  var _super = _createSuper(PostComponent);\n\n  function PostComponent(props) {\n    var _this;\n\n    _classCallCheck(this, PostComponent);\n\n    _this = _super.call(this, props);\n\n    _this.like = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.t0 = axios;\n              _context.t1 = baseURL;\n              _context.t2 = {\n                Id: _this.props.Id,\n                userid: _this.props.userid\n              };\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context.t3 = _context.sent;\n              _context.t4 = {\n                \"auth-token\": _context.t3\n              };\n              _context.t5 = {\n                method: \"post\",\n                url: \"/like\",\n                baseURL: _context.t1,\n                data: _context.t2,\n                headers: _context.t4\n              };\n              (0, _context.t0)(_context.t5).then(function (res) {\n                var message = res.data.message;\n\n                if (res.data.value) {\n                  _this.getIsLiking();\n\n                  var old = _this.state.likes;\n                  var neww = old + 1;\n\n                  _this.setState({\n                    likes: neww\n                  });\n                }\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.unlike = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = axios;\n              _context2.t1 = baseURL;\n              _context2.t2 = {\n                Id: _this.props.Id,\n                userid: _this.props.userid\n              };\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context2.t3 = _context2.sent;\n              _context2.t4 = {\n                \"auth-token\": _context2.t3\n              };\n              _context2.t5 = {\n                method: \"post\",\n                url: \"/unlike\",\n                baseURL: _context2.t1,\n                data: _context2.t2,\n                headers: _context2.t4\n              };\n              (0, _context2.t0)(_context2.t5).then(function (res) {\n                var message = res.data.message;\n\n                if (res.data.value) {\n                  _this.getIsLiking();\n\n                  var old = _this.state.likes;\n                  var neww = old - 1;\n\n                  _this.setState({\n                    likes: neww\n                  });\n                }\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getIsLiking = function _callee3() {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.t0 = axios;\n              _context3.t1 = baseURL;\n              _context3.t2 = {\n                Id: _this.props.Id,\n                userid: _this.props.userid\n              };\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context3.t3 = _context3.sent;\n              _context3.t4 = {\n                \"auth-token\": _context3.t3\n              };\n              _context3.t5 = {\n                method: \"post\",\n                url: \"/getIsLiking\",\n                baseURL: _context3.t1,\n                data: _context3.t2,\n                headers: _context3.t4\n              };\n              (0, _context3.t0)(_context3.t5).then(function (res) {\n                var message = res.data.message;\n\n                _this.setState({\n                  isLiking: res.data.value\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.check = function () {\n      if (_this.props.userpicurl) {\n        _this.setState({\n          userpicurl: _this.props.userpicurl\n        });\n      }\n    };\n\n    _this.state = {\n      userpicurl: \"https://i.pinimg.com/280x280_RS/b8/49/79/b849797ed8b78c6d2d8ab6db464d61fe.jpg\",\n      isLiking: false,\n      likes: _this.props.likes\n    };\n    return _this;\n  }\n\n  _createClass(PostComponent, [{\n    key: \"EditPost\",\n    value: function EditPost(urlpost, description, userid, Id, navigation, editpost) {\n      var postdata = {\n        urlpost: urlpost,\n        description: description,\n        userid: userid,\n        Id: Id\n      };\n      editpost(postdata);\n      navigation.navigate(\"EditPost\");\n    }\n  }, {\n    key: \"DisplayLikes\",\n    value: function DisplayLikes(postid, displaylikes, navigation) {\n      var data = {\n        postid: postid\n      };\n      displaylikes(data);\n      navigation.navigate(\"LikesPage\");\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.check();\n      this.getIsLiking();\n      this.setState({\n        likes: this.props.likes\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var onpress = this.state.isLiking ? this.unlike : this.like;\n      var typebutton = this.state.isLiking ? \"heart\" : \"ios-heart-outline\";\n      var color = this.state.isLiking ? \"red\" : \"black\";\n      return React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 7\n        }\n      }, React.createElement(CardItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }, React.createElement(Left, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }\n      }, React.createElement(Thumbnail, {\n        source: {\n          uri: this.props.userpicurl\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }), React.createElement(Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 15,\n          color: \"#001219\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }, this.props.username), React.createElement(Text, {\n        style: {\n          color: \"#ffcdb2\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }\n      }, \" \", this.props.date.substring(0, 10)))), React.createElement(Right, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }\n      }, React.createElement(Icon, {\n        onPress: function onPress() {\n          return _this2.EditPost(_this2.props.imageSource, _this2.props.caption, _this2.props.userid, _this2.props.Id, _this2.props.navigation, _this2.props.editpost);\n        },\n        name: \"ios-pencil\",\n        style: {\n          color: \"#001219\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }))), React.createElement(CardItem, {\n        cardBody: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.props.imageSource\n        },\n        style: {\n          height: 400,\n          width: 400,\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }\n      })), React.createElement(CardItem, {\n        style: {\n          height: 45\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 9\n        }\n      }, React.createElement(Left, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }\n      }, React.createElement(Icon, {\n        onPress: onpress,\n        name: typebutton,\n        style: {\n          color: color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 13\n        }\n      }, \" \", this.state.likes, \" \"), React.createElement(Icon, {\n        name: \"list\",\n        style: {\n          color: \"black\",\n          marginLeft: 10\n        },\n        onPress: function onPress() {\n          return _this2.DisplayLikes(_this2.props.Id, _this2.props.displaylikes, _this2.props.navigation);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }\n      }))), React.createElement(CardItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, React.createElement(Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 17,\n          color: \"#2a9d8f\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }\n      }, this.props.username), \"  \", this.props.caption))));\n    }\n  }]);\n\n  return PostComponent;\n}(Component);\n\nexport default PostComponent;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Profile/PostComponent.js"],"names":["React","Component","TouchableOpacity","baseURL","Card","CardItem","Thumbnail","Body","Left","Right","Button","Icon","axios","AsyncStorage","PostComponent","props","like","Id","userid","getItem","method","url","data","headers","then","res","message","value","getIsLiking","old","state","likes","neww","setState","catch","err","console","log","unlike","isLiking","check","userpicurl","urlpost","description","navigation","editpost","postdata","navigate","postid","displaylikes","onpress","typebutton","color","uri","fontWeight","fontSize","username","date","substring","EditPost","imageSource","caption","height","width","flex","marginLeft","DisplayLikes","styles","StyleSheet","create","container","alignItems","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component, TouchableOpacity } from \"react\";\nimport { View, Text, StyleSheet, Image } from \"react-native\";\n\nimport { baseURL } from \"../../constants\";\n\nimport {\n  Card,\n  CardItem,\n  Thumbnail,\n  Body,\n  Left,\n  Right,\n  Button,\n  Icon,\n} from \"native-base\";\nimport axios from \"axios\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\n\nclass PostComponent extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      userpicurl:\n        \"https://i.pinimg.com/280x280_RS/b8/49/79/b849797ed8b78c6d2d8ab6db464d61fe.jpg\",\n\n      isLiking: false,\n\n      likes: this.props.likes,\n    };\n  }\n\n  like = async () => {\n    axios({\n      method: \"post\",\n      url: \"/like\",\n      baseURL: baseURL,\n      data: {\n        Id: this.props.Id,\n        userid: this.props.userid,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        const message = res.data.message;\n\n        if (res.data.value) {\n          this.getIsLiking();\n          var old = this.state.likes;\n          var neww = old + 1;\n          this.setState({ likes: neww });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  unlike = async () => {\n    axios({\n      method: \"post\",\n      url: \"/unlike\",\n      baseURL: baseURL,\n      data: {\n        Id: this.props.Id,\n        userid: this.props.userid,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        const message = res.data.message;\n\n        if (res.data.value) {\n          this.getIsLiking();\n          var old = this.state.likes;\n          var neww = old - 1;\n          this.setState({ likes: neww });\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n  getIsLiking = async () => {\n    axios({\n      method: \"post\",\n      url: \"/getIsLiking\",\n      baseURL: baseURL,\n      data: {\n        Id: this.props.Id,\n        userid: this.props.userid,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        const message = res.data.message;\n\n        this.setState({ isLiking: res.data.value });\n      })\n      .catch((err) => console.log(err));\n  };\n  EditPost(urlpost, description, userid, Id, navigation, editpost) {\n    const postdata = {\n      urlpost: urlpost,\n      description: description,\n      userid: userid,\n      Id: Id,\n    };\n\n    editpost(postdata);\n    navigation.navigate(\"EditPost\");\n  }\n\n  DisplayLikes(postid, displaylikes, navigation) {\n    const data = {\n      postid: postid,\n    };\n\n    displaylikes(data);\n    navigation.navigate(\"LikesPage\");\n  }\n  check = () => {\n    if (this.props.userpicurl) {\n      this.setState({ userpicurl: this.props.userpicurl });\n    }\n  };\n  componentDidMount() {\n    this.check();\n    this.getIsLiking();\n    this.setState({ likes: this.props.likes });\n  }\n  render() {\n    let onpress = this.state.isLiking ? this.unlike : this.like;\n    let typebutton = this.state.isLiking ? \"heart\" : \"ios-heart-outline\";\n    let color = this.state.isLiking ? \"red\" : \"black\";\n\n    return (\n      <Card>\n        <CardItem>\n          <Left>\n            <Thumbnail\n              source={{\n                uri: this.props.userpicurl,\n              }}\n            />\n\n            <Body>\n              <Text\n                style={{\n                  fontWeight: \"bold\",\n                  fontSize: 15,\n                  color: \"#001219\",\n                }}\n              >\n                {this.props.username}\n              </Text>\n              <Text style={{ color: \"#ffcdb2\" }}>\n                {\" \"}\n                {this.props.date.substring(0, 10)}\n              </Text>\n            </Body>\n          </Left>\n\n          <Right>\n            <Icon\n              onPress={() =>\n                this.EditPost(\n                  this.props.imageSource,\n                  this.props.caption,\n                  this.props.userid,\n                  this.props.Id,\n                  this.props.navigation,\n                  this.props.editpost\n                )\n              }\n              name=\"ios-pencil\"\n              style={{ color: \"#001219\" }}\n            />\n          </Right>\n        </CardItem>\n        <CardItem cardBody>\n          <Image\n            source={{ uri: this.props.imageSource }}\n            style={{ height: 400, width: 400, flex: 1 }}\n          />\n        </CardItem>\n\n        <CardItem style={{ height: 45 }}>\n          <Left>\n            <Icon\n              onPress={onpress}\n              name={typebutton}\n              style={{ color: color }}\n            />\n\n            <Text> {this.state.likes} </Text>\n\n            <Icon\n              name=\"list\"\n              style={{ color: \"black\", marginLeft: 10 }}\n              onPress={() =>\n                this.DisplayLikes(\n                  this.props.Id,\n                  this.props.displaylikes,\n                  this.props.navigation\n                )\n              }\n            />\n          </Left>\n        </CardItem>\n        <CardItem>\n          <Body>\n            <Text>\n              <Text\n                style={{\n                  fontWeight: \"bold\",\n                  fontSize: 17,\n                  color: \"#2a9d8f\",\n                }}\n              >\n                {this.props.username}\n              </Text>\n              {\"  \"}\n              {this.props.caption}\n            </Text>\n          </Body>\n        </CardItem>\n      </Card>\n    );\n  }\n}\nexport default PostComponent;\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}