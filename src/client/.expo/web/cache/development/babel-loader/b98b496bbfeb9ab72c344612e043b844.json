{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Home/Home.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { Component } from \"react\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Header } from \"react-native-web/dist/index\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { connect } from \"react-redux\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\nimport axios from \"axios\";\nimport { Container, Content, Icon, Thumbnail } from \"native-base\";\nimport inplogo from \"../../assets/image/logo1.png\";\nimport dm from \"../../assets/image/dm.png\";\nimport { displaylikes as _displaylikes } from \"../../actions/postsActions\";\nimport PostComponent from \"./PostComponent\";\nimport { isLogedIn } from \"../../actions/AuthActions\";\nimport { baseURL } from \"../../constants\";\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    marginTop: 17\n  }\n});\n\nvar Home = function (_Component) {\n  _inherits(Home, _Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n    _this.list = [];\n\n    _this.getIdValue = function _callee() {\n      var value;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Id\"));\n\n            case 2:\n              value = _context.sent;\n              _this.Id = value;\n              return _context.abrupt(\"return\", value);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.listUsers = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = axios;\n              _context2.t1 = baseURL;\n              _context2.t2 = {\n                Id: _this.Id\n              };\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context2.t3 = _context2.sent;\n              _context2.t4 = {\n                \"auth-token\": _context2.t3\n              };\n              _context2.t5 = {\n                method: \"post\",\n                url: \"/listUsers\",\n                baseURL: _context2.t1,\n                data: _context2.t2,\n                headers: _context2.t4\n              };\n              (0, _context2.t0)(_context2.t5).then(function (res) {\n                _this.setState({\n                  data: res.data.lista\n                });\n              }).catch(function (err) {\n                console.log(err.message);\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onRefresh = function () {\n      _this.setState({\n        refreshing: true\n      });\n\n      _this.listPosts().then(function () {\n        _this.setState({\n          refreshing: false\n        });\n      });\n    };\n\n    _this.listPosts = function _callee3() {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.t0 = axios;\n              _context3.t1 = baseURL;\n              _context3.t2 = {\n                Id: _this.Id\n              };\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context3.t3 = _context3.sent;\n              _context3.t4 = {\n                \"auth-token\": _context3.t3\n              };\n              _context3.t5 = {\n                method: \"post\",\n                url: \"/listPosts\",\n                baseURL: _context3.t1,\n                data: _context3.t2,\n                headers: _context3.t4\n              };\n              (0, _context3.t0)(_context3.t5).then(function (res) {\n                _this.setState({\n                  refreshing: false,\n                  posts: res.data.totalPosts\n                });\n              }).catch(function (err) {\n                console.log(err.message);\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.verifyConnexion = function () {\n      if (!isLogedIn()) {\n        _this.props.navigation.navigate(\"LogIn\");\n      }\n    };\n\n    _this.renderUsers = function (users) {\n      return users.map(function (user, index) {\n        var followRequest = function followRequest() {\n          return _regeneratorRuntime.async(function followRequest$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  _context4.t0 = axios;\n                  _context4.t1 = baseURL;\n                  _context4.t2 = {\n                    Id: _this.Id,\n                    followId: user.Id\n                  };\n                  _context4.next = 5;\n                  return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n                case 5:\n                  _context4.t3 = _context4.sent;\n                  _context4.t4 = {\n                    \"auth-token\": _context4.t3\n                  };\n                  _context4.t5 = {\n                    method: \"post\",\n                    url: \"/follow\",\n                    baseURL: _context4.t1,\n                    data: _context4.t2,\n                    headers: _context4.t4\n                  };\n                  (0, _context4.t0)(_context4.t5).then(function (res) {\n                    _this.setState({\n                      test: 1\n                    });\n\n                    _this.listUsers();\n\n                    _this.listPosts();\n                  }).catch(function (err) {\n                    console.log(err.message);\n                  });\n\n                case 9:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        };\n\n        var unfollowRequest = function unfollowRequest() {\n          return _regeneratorRuntime.async(function unfollowRequest$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.t0 = axios;\n                  _context5.t1 = baseURL;\n                  _context5.t2 = {\n                    Id: _this.Id,\n                    followId: user.Id\n                  };\n                  _context5.next = 5;\n                  return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n                case 5:\n                  _context5.t3 = _context5.sent;\n                  _context5.t4 = {\n                    \"auth-token\": _context5.t3\n                  };\n                  _context5.t5 = {\n                    method: \"post\",\n                    url: \"/unfollow\",\n                    baseURL: _context5.t1,\n                    data: _context5.t2,\n                    headers: _context5.t4\n                  };\n                  (0, _context5.t0)(_context5.t5).then(function (res) {\n                    _this.setState({\n                      test: 1\n                    });\n\n                    _this.listUsers();\n\n                    _this.listPosts();\n                  }).catch(function (err) {\n                    console.log(err.message);\n                  });\n\n                case 9:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        };\n\n        var onpress = user.follow ? unfollowRequest : followRequest;\n        var text = user.follow ? \"unfollow\" : \"follow\";\n        return React.createElement(View, {\n          style: {\n            alignItems: \"center\",\n            marginLeft: 10\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 9\n          }\n        }, React.createElement(Thumbnail, {\n          source: {\n            uri: user.url\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 11\n          }\n        }), React.createElement(Text, {\n          style: {\n            marginHorizontal: 5,\n            fontSize: 15\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 11\n          }\n        }, user.name), React.createElement(TouchableOpacity, {\n          style: {\n            height: 30,\n            width: 80,\n            backgroundColor: \"#048ba8\",\n            borderRadius: SIZES.radius / 0.2,\n            alignItems: \"center\",\n            justifyContent: \"center\"\n          },\n          onPress: onpress,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 11\n          }\n        }, React.createElement(Text, {\n          style: _objectSpread({\n            color: COLORS.white\n          }, FONTS.h3),\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }\n        }, text)));\n      });\n    };\n\n    _this.renderPosts = function (posts) {\n      var sortedposts = posts.sort(function (a, b) {\n        return Date.parse(b.date) - Date.parse(a.date);\n      });\n      return sortedposts.map(function (post, index) {\n        var name = post.username;\n        var url = post.posts;\n        var userpicurl = post.picurl;\n        var date = post.date;\n        var caption = post.caption;\n        return React.createElement(PostComponent, {\n          imageSource: url,\n          likes: post.likes.length,\n          username: name,\n          userpicurl: userpicurl,\n          date: date,\n          caption: caption,\n          Id: post.Id,\n          userid: _this.Id,\n          navigation: _this.props.navigation,\n          displaylikes: _this.props.displaylikes,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 9\n          }\n        });\n      });\n    };\n\n    _this.ItemSeparatorView = function () {\n      return React.createElement(View, {\n        style: {\n          height: 0.5,\n          width: \"100%\",\n          backgroundColor: \"#c8c8c8\",\n          marginBottom: 0\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.onRefresh = function () {\n      setRefreshing(true);\n      wait(2000).then(function () {\n        return setRefreshing(false);\n      });\n    };\n\n    _this.state = {\n      data: [],\n      posts: [],\n      Id: \"\",\n      test: 0,\n      refreshing: true\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"onRefresh\",\n    value: function onRefresh() {\n      this.listPosts();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              this.verifyConnexion();\n              this.willFocusSubscription = this.props.navigation.addListener(\"willFocus\", function () {\n                _this2.verifyConnexion();\n              });\n              _context6.next = 4;\n              return _regeneratorRuntime.awrap(this.getIdValue());\n\n            case 4:\n              this.listUsers();\n              this.listPosts();\n              this.render();\n\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"parseDate\",\n    value: function parseDate(input) {\n      var parts = input.match(/(\\d+)/g);\n      return new Date(parts[0], parts[1] - 1, parts[2]);\n    }\n  }, {\n    key: \"renderLogo\",\n    value: function renderLogo() {\n      return React.createElement(View, {\n        style: {\n          marginTop: SIZES.padding * 2,\n          height: 100,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          marginBottom: 30\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        source: inplogo,\n        resizeMode: \"contain\",\n        style: {\n          width: \"60%\",\n          width: \"20%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          height: 200,\n          marginBottom: 0,\n          backgroundColor: COLORS.primary\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 7\n        }\n      }, React.createElement(Image, {\n        source: inplogo,\n        style: {\n          width: 170,\n          height: 55,\n          marginLeft: 10,\n          marginTop: 40,\n          marginBottom: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 9\n        }\n      }), React.createElement(Image, {\n        source: dm,\n        style: {\n          width: 25,\n          height: 25,\n          marginRight: 20,\n          alignSelf: \"flex-end\",\n          tintColor: \"black\",\n          marginTop: -40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 9\n        }\n      }), React.createElement(Container, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 9\n        }\n      }, this.ItemSeparatorView(), React.createElement(Content, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 110,\n          backgroundColor: COLORS.primary\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 3\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, React.createElement(ScrollView, {\n        refreshControl: React.createElement(RefreshControl, {\n          refreshing: this.state.refreshing,\n          onRefresh: this.onRefresh,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 21\n          }\n        }),\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        contentContainerStyle: {\n          alignItems: \"center\",\n          paddingStart: 5,\n          paddingEnd: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, this.renderUsers(this.state.data)))), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 13\n        }\n      }, this.renderPosts(this.state.posts)))));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nHome.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref) {\n    var tintColor = _ref.tintColor;\n    return React.createElement(Icon, {\n      name: \"ios-home\",\n      style: {\n        color: tintColor\n      },\n      __self: Home,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    });\n  }\n};\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {};\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    displaylikes: function displaylikes(data) {\n      return dispatch(_displaylikes(data));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Home/Home.js"],"names":["Component","React","useState","useRef","useEffect","Header","connect","LinearGradient","AsyncStorage","COLORS","SIZES","FONTS","axios","Container","Content","Icon","Thumbnail","inplogo","dm","displaylikes","PostComponent","isLogedIn","baseURL","styles","StyleSheet","create","container","flex","backgroundColor","marginTop","Home","props","list","getIdValue","getItem","value","Id","listUsers","method","url","data","headers","then","res","setState","lista","catch","err","console","log","message","_onRefresh","refreshing","listPosts","posts","totalPosts","verifyConnexion","navigation","navigate","renderUsers","users","map","user","index","followRequest","followId","test","unfollowRequest","onpress","follow","text","alignItems","marginLeft","uri","marginHorizontal","fontSize","name","height","width","borderRadius","radius","justifyContent","color","white","h3","renderPosts","sortedposts","sort","a","b","Date","parse","date","post","username","userpicurl","picurl","caption","likes","length","ItemSeparatorView","marginBottom","onRefresh","setRefreshing","wait","state","willFocusSubscription","addListener","render","remove","input","parts","match","padding","primary","marginRight","alignSelf","tintColor","paddingStart","paddingEnd","navigationOptions","tabBarIcon","mapStatetoProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\n\nimport React, { useState, useRef, useEffect } from \"react\";\nimport {\n  View,\n  Button,\n  TextInput,\n  Text,\n  Alert,\n  RefreshControl,\n  StyleSheet,\n  Header,\n  Image,\n  ScrollView,\n  TouchableOpacity,\n  ActivityIndicator,\n  SafeAreaView,\n} from \"react-native\";\nimport { connect } from \"react-redux\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\n\nimport axios from \"axios\";\n\nimport { Container, Content, Icon, Thumbnail } from \"native-base\";\n\nimport inplogo from \"../../assets/image/logo1.png\";\n\nimport dm from \"../../assets/image/dm.png\";\nimport { displaylikes } from \"../../actions/postsActions\";\n\nimport PostComponent from \"./PostComponent\";\n\nimport { isLogedIn } from \"../../actions/AuthActions\";\n\nimport { baseURL } from \"../../constants\";\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\",\n    marginTop: 17,\n  },\n});\n\nclass Home extends Component {\n  list = [];\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      posts: [],\n      Id: \"\",\n      test: 0,\n      refreshing: true,\n    };\n  }\n\n  getIdValue = async () => {\n    var value = await AsyncStorage.getItem(\"Id\");\n    this.Id = value;\n    return value;\n  };\n\n  listUsers = async () => {\n    axios({\n      method: \"post\",\n      url: \"/listUsers\",\n      baseURL: baseURL,\n      data: {\n        Id: this.Id,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.setState({ data: res.data.lista });\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  _onRefresh = () => {\n    this.setState({ refreshing: true });\n    this.listPosts().then(() => {\n      this.setState({ refreshing: false });\n    });\n  };\n  onRefresh() {\n    //Clear old data of the list\n    //Call the Service to get the latest data\n    this.listPosts();\n  }\n\n  listPosts = async () => {\n    axios({\n      method: \"post\",\n      url: \"/listPosts\",\n\n      baseURL: baseURL,\n      data: {\n        Id: this.Id,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.setState({\n          refreshing: false,\n\n          posts: res.data.totalPosts,\n        });\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  verifyConnexion = () => {\n    if (!isLogedIn()) {\n      this.props.navigation.navigate(\"LogIn\");\n    }\n  };\n\n  async componentDidMount() {\n    this.verifyConnexion();\n    this.willFocusSubscription = this.props.navigation.addListener(\n      \"willFocus\",\n      () => {\n        this.verifyConnexion();\n      }\n    );\n    await this.getIdValue();\n    this.listUsers();\n    this.listPosts();\n    this.render();\n  }\n\n  componentWillUnmount() {\n    this.willFocusSubscription.remove();\n  }\n\n  static navigationOptions = {\n    tabBarIcon: ({ tintColor }) => (\n      <Icon name=\"ios-home\" style={{ color: tintColor }} />\n    ),\n  };\n\n  renderUsers = (users) => {\n    return users.map((user, index) => {\n      let followRequest = async () => {\n        axios({\n          method: \"post\",\n          url: \"/follow\",\n          baseURL: baseURL,\n          data: {\n            Id: this.Id,\n\n            followId: user.Id,\n          },\n          headers: {\n            \"auth-token\": await AsyncStorage.getItem(\"token\"),\n          },\n        })\n          .then((res) => {\n            this.setState({ test: 1 });\n            this.listUsers();\n            this.listPosts();\n          })\n\n          .catch((err) => {\n            console.log(err.message);\n          });\n      };\n\n      let unfollowRequest = async () => {\n        axios({\n          method: \"post\",\n          url: \"/unfollow\",\n          baseURL: baseURL,\n          data: {\n            Id: this.Id,\n            followId: user.Id,\n          },\n          headers: {\n            \"auth-token\": await AsyncStorage.getItem(\"token\"),\n          },\n        })\n          .then((res) => {\n            this.setState({ test: 1 });\n            this.listUsers();\n            this.listPosts();\n          })\n          .catch((err) => {\n            console.log(err.message);\n          });\n      };\n\n      let onpress = user.follow ? unfollowRequest : followRequest;\n      let text = user.follow ? \"unfollow\" : \"follow\";\n      return (\n        <View style={{ alignItems: \"center\", marginLeft: 10 }}>\n          <Thumbnail\n            source={{\n              uri: user.url,\n            }}\n          />\n          <Text\n            style={{\n              marginHorizontal: 5,\n              fontSize: 15,\n            }}\n          >\n            {user.name}\n          </Text>\n          <TouchableOpacity\n            style={{\n              height: 30,\n              width: 80,\n              backgroundColor: \"#048ba8\",\n              borderRadius: SIZES.radius / 0.2,\n              alignItems: \"center\",\n              justifyContent: \"center\",\n            }}\n            onPress={onpress}\n          >\n            <Text style={{ color: COLORS.white, ...FONTS.h3 }}>{text}</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    });\n  };\n  parseDate(input) {\n    var parts = input.match(/(\\d+)/g);\n    // new Date(year, month [, date [, hours[, minutes[, seconds[, ms]]]]])\n    return new Date(parts[0], parts[1] - 1, parts[2]); // months are 0-based\n  }\n\n  renderLogo() {\n    return (\n      <View\n        style={{\n          marginTop: SIZES.padding * 2,\n          height: 100,\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          marginBottom: 30,\n        }}\n      >\n        <Image\n          source={inplogo}\n          resizeMode=\"contain\"\n          style={{\n            width: \"60%\",\n            width: \"20%\",\n          }}\n        />\n      </View>\n    );\n  }\n\n  renderPosts = (posts) => {\n    const sortedposts = posts.sort(\n      (a, b) => Date.parse(b.date) - Date.parse(a.date)\n    );\n\n    return sortedposts.map((post, index) => {\n      var name = post.username;\n      var url = post.posts;\n      var userpicurl = post.picurl;\n      var date = post.date;\n      var caption = post.caption;\n      return (\n        <PostComponent\n          imageSource={url}\n          likes={post.likes.length}\n          username={name}\n          userpicurl={userpicurl}\n          date={date}\n          caption={caption}\n          Id={post.Id}\n          userid={this.Id}\n          navigation={this.props.navigation}\n          displaylikes={this.props.displaylikes}\n        />\n      );\n    });\n  };\n  ItemSeparatorView = () => {\n    return (\n      <View\n        style={{\n          height: 0.5,\n          width: \"100%\",\n          backgroundColor: \"#c8c8c8\",\n          marginBottom: 0,\n        }}\n      />\n    );\n  };\n\n  onRefresh = () => {\n    setRefreshing(true);\n    wait(2000).then(() => setRefreshing(false));\n  };\n\n  render() {\n    return (\n      <View\n        style={{\n          flex: 1,\n          height: 200,\n          marginBottom: 0,\n          backgroundColor: COLORS.primary,\n        }}\n      >\n        <Image\n          source={inplogo}\n          style={{\n            width: 170,\n            height: 55,\n            marginLeft: 10,\n            //tintColor: \"black\",\n            marginTop: 40,\n            marginBottom: 0,\n          }}\n        ></Image>\n        <Image\n          source={dm}\n          style={{\n            width: 25,\n            height: 25,\n            marginRight: 20,\n            alignSelf: \"flex-end\",\n            tintColor: \"black\",\n            marginTop: -40,\n          }}\n        ></Image>\n        <Container style={styles.container}>\n          {this.ItemSeparatorView()}\n\n          <Content>\n            <View\n              style={{\n                height: 110,\n                backgroundColor: COLORS.primary,\n              }}\n            >\n              <View style={{ flex: 3 }}>\n                <ScrollView\n                  refreshControl={\n                    <RefreshControl\n                      refreshing={this.state.refreshing}\n                      onRefresh={this.onRefresh}\n                    />\n                  }\n                  horizontal={true}\n                  showsHorizontalScrollIndicator={false}\n                  contentContainerStyle={{\n                    alignItems: \"center\",\n                    paddingStart: 5,\n                    paddingEnd: 5,\n                  }}\n                >\n                  {this.renderUsers(this.state.data)}\n                </ScrollView>\n              </View>\n            </View>\n\n            <View>{this.renderPosts(this.state.posts)}</View>\n          </Content>\n        </Container>\n      </View>\n    );\n  }\n}\n\nconst mapStatetoProps = (state) => {\n  return {};\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    displaylikes: (data) => dispatch(displaylikes(data)),\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}