{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Profile/profilePub.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport { uploadpost as _uploadpost } from \"../../actions/postsActions\";\nimport { displaylikes as _displaylikes } from \"../../actions/postsActions\";\nimport PostComponent from \"../Home/PostComponent\";\nimport { TabView, TabBar, TabViewPagerScroll, TabViewPagerPan } from \"react-native-tab-view\";\nimport PropTypes from \"prop-types\";\nimport { image } from \"./utils\";\nimport profileStyles from \"./style/ProfileStyle\";\nexport var ImageProfil = require(\"./images/photo_cv.jpg\");\nvar styles = StyleSheet.create(_objectSpread({}, profileStyles));\nimport { Item, Input } from \"native-base\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { logout as _logout } from \"../../actions/loginActions\";\nimport { baseURL } from \"../../constants\";\nimport { Icon } from \"native-base\";\n\nvar ProfilePub = function (_Component) {\n  _inherits(ProfilePub, _Component);\n\n  var _super = _createSuper(ProfilePub);\n\n  function ProfilePub(_props) {\n    var _this;\n\n    _classCallCheck(this, ProfilePub);\n\n    _this = _super.call(this, _props);\n\n    _this.getIsFollowing = function _callee(userId, followId) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.t0 = axios;\n              _context.t1 = baseURL;\n              _context.t2 = {\n                userId: userId,\n                followId: followId\n              };\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context.t3 = _context.sent;\n              _context.t4 = {\n                \"auth-token\": _context.t3\n              };\n              _context.t5 = {\n                method: \"post\",\n                url: \"/getIsFollowing\",\n                baseURL: _context.t1,\n                data: _context.t2,\n                headers: _context.t4\n              };\n              (0, _context.t0)(_context.t5).then(function (res) {\n                _this.setState({\n                  isFollowing: res.data.value\n                });\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.fetchUserDetails = function _callee2(user_id) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.t0 = axios;\n              _context2.t1 = baseURL;\n              _context2.t2 = {\n                userid: user_id\n              };\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context2.t3 = _context2.sent;\n              _context2.t4 = {\n                \"auth-token\": _context2.t3\n              };\n              _context2.t5 = {\n                method: \"post\",\n                url: \"/getUserDetails\",\n                baseURL: _context2.t1,\n                data: _context2.t2,\n                headers: _context2.t4\n              };\n              (0, _context2.t0)(_context2.t5).then(function (res) {\n                _this.setState({\n                  name: res.data.results[0].name\n                });\n\n                if (res.data.results[0].url) {\n                  _this.setState({\n                    url: res.data.results[0].url\n                  });\n                }\n\n                _this.setState({\n                  username: res.data.results[0].username\n                });\n\n                _this.setState({\n                  bio: res.data.results[0].bio\n                });\n\n                var reversePosts = res.data.results[0].posts.reverse();\n\n                _this.setState({\n                  posts: reversePosts\n                });\n\n                _this.setState({\n                  followers: res.data.results[0].followers\n                });\n\n                _this.setState({\n                  following: res.data.results[0].following\n                });\n\n                var followersnumber = _this.state.followers.length;\n                var followingnumber = _this.state.following.length;\n\n                var newroutes = _toConsumableArray(_this.state.tabs.routes);\n\n                newroutes[0].count = _this.state.posts.length;\n                newroutes[1].count = followingnumber;\n                newroutes[2].count = followersnumber;\n\n                _this.setState({\n                  tabs: _objectSpread(_objectSpread({}, _this.state.tabs), {}, {\n                    newroutes: newroutes\n                  })\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              });\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.onPressPlace = function () {\n      console.log(\"place\");\n    };\n\n    _this.getIdValue = function _callee3() {\n      var value;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"publicProfileId\"));\n\n            case 2:\n              value = _context3.sent;\n              _this.id = value;\n              return _context3.abrupt(\"return\", value);\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getUserIdValue = function _callee4() {\n      var value;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"Id\"));\n\n            case 2:\n              value = _context4.sent;\n              _this.userId = value;\n              return _context4.abrupt(\"return\", value);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.clearAppData = function _callee5() {\n      var keys;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              _context5.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getAllKeys());\n\n            case 3:\n              keys = _context5.sent;\n              _context5.next = 6;\n              return _regeneratorRuntime.awrap(AsyncStorage.multiRemove(keys));\n\n            case 6:\n              _context5.next = 11;\n              break;\n\n            case 8:\n              _context5.prev = 8;\n              _context5.t0 = _context5[\"catch\"](0);\n              console.error(\"Error clearing app data.\");\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, [[0, 8]], Promise);\n    };\n\n    _this.handleIndexChange = function (index) {\n      _this.setState({\n        tabs: _objectSpread(_objectSpread({}, _this.state.tabs), {}, {\n          index: index\n        })\n      });\n    };\n\n    _this.renderTabBar = function (props) {\n      return React.createElement(TabBar, _extends({\n        indicatorStyle: styles.indicatorTab,\n        renderLabel: _this.renderLabel(props),\n        pressOpacity: 0.8,\n        style: styles.tabBar\n      }, props, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 7\n        }\n      }));\n    };\n\n    _this.renderLabel = function (props) {\n      return function (_ref) {\n        var route = _ref.route;\n        var routes = props.navigationState.routes;\n        var labels = [];\n        routes.forEach(function (e, index) {\n          labels.push(index === props.navigationState.index ? \"black\" : \"gray\");\n        });\n        var currentIndex = parseInt(route.key) - 1;\n        var color = labels[currentIndex];\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 9\n          }\n        }, React.createElement(Animated.Text, {\n          style: [styles.tabLabelText, {\n            color: color\n          }],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 11\n          }\n        }, route.count), React.createElement(Animated.Text, {\n          style: [styles.tabLabelNumber, {\n            color: color\n          }],\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }\n        }, route.title));\n      };\n    };\n\n    _this.ItemSeparatorView = function () {\n      return React.createElement(View, {\n        style: {\n          height: 0.5,\n          width: \"100%\",\n          backgroundColor: \"#c8c8c8\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.ItemView = function (_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.followUser,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.itemUser,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.followImage,\n        source: {\n          uri: item.url\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        style: styles.itemUser2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          margin: SIZES.padding * 0.5,\n          alignItems: \"center\"\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          height: 35,\n          width: 100,\n          backgroundColor: \"#023047\",\n          borderRadius: SIZES.radius / 0.2,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        onPress: function onPress() {\n          if (item.Id) {\n            AsyncStorage.setItem(\"publicProfileId\", item.Id);\n\n            _this.setState({\n              ProfilePubId: item.name._id\n            });\n\n            _this.props.navigation.navigate(\"ProfilePub\");\n          }\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({\n          color: COLORS.white\n        }, FONTS.h3),\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 17\n        }\n      }, item.usernameVrai))))));\n    };\n\n    _this.renderPosts = function (posts) {\n      return posts.map(function (post, index) {\n        var name = _this.state.name;\n        var url = post.urlpost;\n        var caption = post.description;\n        var date = post.date;\n        var userpicurl = _this.state.url ? _this.state.url : false;\n        var id = post.Id;\n        return React.createElement(PostComponent, {\n          key: id,\n          imageSource: url,\n          likes: post.likes.length,\n          username: name,\n          userid: _this.userId,\n          Id: id,\n          userpicurl: _this.state.url,\n          caption: caption,\n          navigation: _this.props.navigation,\n          date: date,\n          displaylikes: _this.props.displaylikes,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 9\n          }\n        });\n      });\n    };\n\n    _this.renderScene = function (_ref3) {\n      var key = _ref3.route.key;\n      var posts = _this.props.posts;\n\n      switch (key) {\n        case \"1\":\n          return _this.renderPictures();\n\n        case \"2\":\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 11\n            }\n          }, React.createElement(FlatList, {\n            data: _this.state.following,\n            keyExtractor: function keyExtractor(item, index) {\n              return index.toString();\n            },\n            ItemSeparatorComponent: _this.ItemSeparatorView,\n            renderItem: _this.ItemView,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 13\n            }\n          }));\n\n        case \"3\":\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 11\n            }\n          }, React.createElement(FlatList, {\n            data: _this.state.followers,\n            keyExtractor: function keyExtractor(item, index) {\n              return index.toString();\n            },\n            ItemSeparatorComponent: _this.ItemSeparatorView,\n            renderItem: _this.ItemView,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 13\n            }\n          }));\n\n        default:\n          return React.createElement(View, {\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 16\n            }\n          });\n      }\n    };\n\n    _this.followRequest = function _callee6() {\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.t0 = axios;\n              _context6.t1 = baseURL;\n              _context6.t2 = {\n                Id: _this.userId,\n                followId: _this.id\n              };\n              _context6.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context6.t3 = _context6.sent;\n              _context6.t4 = {\n                \"auth-token\": _context6.t3\n              };\n              _context6.t5 = {\n                method: \"post\",\n                url: \"/follow\",\n                baseURL: _context6.t1,\n                data: _context6.t2,\n                headers: _context6.t4\n              };\n              (0, _context6.t0)(_context6.t5).then(function (res) {\n                _this.getIsFollowing(_this.userId, _this.id);\n\n                _this.fetchUserDetails(_this.id);\n              }).catch(function (err) {\n                console.log(err.message);\n              });\n\n            case 9:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.unfollowRequest = function _callee7() {\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.t0 = axios;\n              _context7.t1 = baseURL;\n              _context7.t2 = {\n                Id: _this.userId,\n                followId: _this.id\n              };\n              _context7.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"token\"));\n\n            case 5:\n              _context7.t3 = _context7.sent;\n              _context7.t4 = {\n                \"auth-token\": _context7.t3\n              };\n              _context7.t5 = {\n                method: \"post\",\n                url: \"/unfollow\",\n                baseURL: _context7.t1,\n                data: _context7.t2,\n                headers: _context7.t4\n              };\n              (0, _context7.t0)(_context7.t5).then(function (res) {\n                _this.getIsFollowing(_this.userId, _this.id);\n\n                _this.fetchUserDetails(_this.id);\n              }).catch(function (err) {\n                console.log(err.message);\n              });\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderContactHeader = function () {\n      var onpress = _this.state.isFollowing ? _this.unfollowRequest : _this.followRequest;\n      var text = _this.state.isFollowing ? \"unfollow\" : \"follow\";\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.item,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.url\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }\n      }))), React.createElement(View, {\n        style: styles.userRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.userNameRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }\n      }, _this.state.name)), React.createElement(View, {\n        style: styles.userNameRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 13\n        }\n      }, \"@\", _this.state.username)), React.createElement(View, {\n        style: styles.userBioRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.userBioText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }\n      }, _this.state.bio)), React.createElement(View, {\n        style: styles.item2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 11\n        }\n      }, _this.renderButton(text, \"#048ba8\", onpress))));\n    };\n\n    _this.renderPictures = function () {\n      if (_this.state.posts.length < 1) {\n        return React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 9\n          }\n        }, React.createElement(Text, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 11\n          }\n        }, \"AUCUN POST \"));\n      } else {\n        return React.createElement(View, {\n          style: styles.masonryContainer,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 11\n          }\n        }, React.createElement(View, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 13\n          }\n        }, _this.renderPosts(_this.state.posts))));\n      }\n    };\n\n    _this.state = {\n      authToken: _this.props.authToken,\n      id: \"\",\n      name: \"\",\n      url: false,\n      description: \"\",\n      username: \"\",\n      urlpost: \"\",\n      bio: \"\",\n      ProfilePubId: \"\",\n      posts: [],\n      tabs: {\n        index: 0,\n        routes: [{\n          key: \"1\",\n          title: \"Posts\",\n          count: \"0\"\n        }, {\n          key: \"2\",\n          title: \"following\",\n          count: \"0\"\n        }, {\n          key: \"3\",\n          title: \"followers\",\n          count: \"0\"\n        }]\n      },\n      postsMasonry: {},\n      following: [],\n      followers: [],\n      isFollowing: false\n    };\n    return _this;\n  }\n\n  _createClass(ProfilePub, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function componentDidMount$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return _regeneratorRuntime.awrap(this.getIdValue());\n\n            case 2:\n              _context8.next = 4;\n              return _regeneratorRuntime.awrap(this.getUserIdValue());\n\n            case 4:\n              this.fetchUserDetails(this.id);\n              this.getIsFollowing(this.userId, this.id);\n              this.willFocusSubscription = this.props.navigation.addListener(\"willFocus\", function () {\n                _this2.fetchUserDetails(_this2.props.userDetails);\n              });\n\n            case 7:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.isUploaded) {\n        this.props.navigation.navigate(\"Profile\");\n      }\n\n      if (!this.props.isUploaded && !this.props.isLoading) {}\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.isUploaded !== this.props.isUploaded) {\n        this.fetchUserDetails(this.props.userDetails);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.willFocusSubscription.remove();\n    }\n  }, {\n    key: \"renderButton\",\n    value: function renderButton(text, color, onPress) {\n      return React.createElement(View, {\n        style: {\n          margin: SIZES.padding * 0.5,\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          height: 30,\n          width: 80,\n          backgroundColor: color,\n          borderRadius: SIZES.radius / 0.2,\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        onPress: onPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: _objectSpread({\n          color: COLORS.white\n        }, FONTS.h3),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 11\n        }\n      }, text)));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: [styles.container, this.props.containerStyle],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.cardContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }\n      }, this.renderContactHeader(), React.createElement(TabView, {\n        style: [styles.tabContainer, this.props.tabContainerStyle],\n        navigationState: this.state.tabs,\n        renderScene: this.renderScene,\n        renderTabBar: this.renderTabBar,\n        onIndexChange: this.handleIndexChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return ProfilePub;\n}(Component);\n\nProfilePub.navigationOptions = {\n  tabBarIcon: function tabBarIcon(_ref4) {\n    var tintColor = _ref4.tintColor;\n    return React.createElement(Icon, {\n      name: \"person\",\n      style: {\n        color: tintColor\n      },\n      __self: ProfilePub,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }\n    });\n  }\n};\n\nvar mapStatetoProps = function mapStatetoProps(state) {\n  return {\n    authToken: state.loginReducer.authToken,\n    userDetails: state.loginReducer.userDetails,\n    isLoading: state.postsReducer.isLoading,\n    isUploaded: state.postsReducer.isUploaded,\n    errMsg: state.postsReducer.errMsg,\n    ProfilePubId: state.ProfilePubId\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    logout: function logout() {\n      return dispatch(_logout());\n    },\n    uploadpost: function uploadpost(Data) {\n      return dispatch(_uploadpost(Data));\n    },\n    displaylikes: function displaylikes(data) {\n      return dispatch(_displaylikes(data));\n    }\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(ProfilePub);","map":{"version":3,"sources":["/home/sanata/Desktop/InpGram/InstaClone/src/client/Screens/Profile/profilePub.js"],"names":["React","Component","COLORS","SIZES","FONTS","AsyncStorage","uploadpost","displaylikes","PostComponent","TabView","TabBar","TabViewPagerScroll","TabViewPagerPan","PropTypes","image","profileStyles","ImageProfil","require","styles","StyleSheet","create","Item","Input","connect","axios","logout","baseURL","Icon","ProfilePub","props","getIsFollowing","userId","followId","getItem","method","url","data","headers","then","res","setState","isFollowing","value","catch","err","console","log","fetchUserDetails","user_id","userid","name","results","username","bio","reversePosts","posts","reverse","followers","following","followersnumber","state","length","followingnumber","newroutes","tabs","routes","count","onPressPlace","getIdValue","id","getUserIdValue","clearAppData","getAllKeys","keys","multiRemove","error","handleIndexChange","index","renderTabBar","indicatorTab","renderLabel","tabBar","route","navigationState","labels","forEach","e","push","currentIndex","parseInt","key","color","tabLabelText","tabLabelNumber","title","ItemSeparatorView","height","width","backgroundColor","ItemView","item","followUser","itemUser","userRow","followImage","uri","itemUser2","margin","padding","alignItems","borderRadius","radius","justifyContent","Id","setItem","ProfilePubId","_id","navigation","navigate","white","h3","usernameVrai","renderPosts","map","post","urlpost","caption","description","date","userpicurl","likes","renderScene","renderPictures","toString","followRequest","message","unfollowRequest","renderContactHeader","onpress","text","headerContainer","userImage","userNameRow","userNameText","userBioRow","userBioText","item2","renderButton","masonryContainer","authToken","postsMasonry","willFocusSubscription","addListener","userDetails","isUploaded","isLoading","newProps","remove","onPress","scroll","container","containerStyle","cardContainer","tabContainer","tabContainerStyle","navigationOptions","tabBarIcon","tintColor","mapStatetoProps","loginReducer","postsReducer","errMsg","mapDispatchToProps","dispatch","Data"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Animated,\n  Image,\n  TextInput,\n  Button,\n  ScrollView,\n  Alert,\n  StyleSheet,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  View,\n} from \"react-native\";\nimport { COLORS, SIZES, FONTS } from \"../../constants\";\n\nimport AsyncStorage from \"@react-native-community/async-storage\";\n\nimport { uploadpost } from \"../../actions/postsActions\";\nimport { displaylikes } from \"../../actions/postsActions\";\nimport PostComponent from \"../Home/PostComponent\";\n\nimport {\n  TabView,\n  TabBar,\n  TabViewPagerScroll,\n  TabViewPagerPan,\n} from \"react-native-tab-view\";\nimport PropTypes from \"prop-types\";\nimport { image } from \"./utils\";\nimport profileStyles from \"./style/ProfileStyle\";\nexport const ImageProfil = require(\"./images/photo_cv.jpg\");\nconst styles = StyleSheet.create({ ...profileStyles });\nimport { Item, Input } from \"native-base\";\n\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { logout } from \"../../actions/loginActions\";\nimport { baseURL } from \"../../constants\";\n\nimport { Icon } from \"native-base\";\n\nclass ProfilePub extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authToken: this.props.authToken,\n      id: \"\",\n      name: \"\",\n      url: false,\n      description: \"\",\n      username: \"\",\n      urlpost: \"\",\n      bio: \"\",\n      ProfilePubId: \"\",\n      posts: [],\n      tabs: {\n        index: 0,\n        routes: [\n          { key: \"1\", title: \"Posts\", count: \"0\" },\n          { key: \"2\", title: \"following\", count: \"0\" },\n          { key: \"3\", title: \"followers\", count: \"0\" },\n        ],\n      },\n      postsMasonry: {},\n\n      following: [],\n\n      followers: [],\n\n      isFollowing: false,\n    };\n  }\n\n  static navigationOptions = {\n    tabBarIcon: ({ tintColor }) => (\n      <Icon name=\"person\" style={{ color: tintColor }} />\n    ),\n  };\n\n  getIsFollowing = async (userId, followId) => {\n    axios({\n      method: \"post\",\n      url: \"/getIsFollowing\",\n      baseURL: baseURL,\n      data: {\n        userId: userId,\n        followId: followId,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.setState({ isFollowing: res.data.value });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  fetchUserDetails = async (user_id) => {\n    axios({\n      method: \"post\",\n      url: \"/getUserDetails\",\n      baseURL: baseURL,\n      data: {\n        userid: user_id,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.setState({ name: res.data.results[0].name });\n\n        if (res.data.results[0].url) {\n          this.setState({ url: res.data.results[0].url });\n        }\n        this.setState({ username: res.data.results[0].username });\n        this.setState({ bio: res.data.results[0].bio });\n\n        const reversePosts = res.data.results[0].posts.reverse();\n\n        this.setState({ posts: reversePosts });\n\n        this.setState({ followers: res.data.results[0].followers });\n        this.setState({ following: res.data.results[0].following });\n        var followersnumber = this.state.followers.length;\n        var followingnumber = this.state.following.length;\n        var newroutes = [...this.state.tabs.routes];\n        newroutes[0].count = this.state.posts.length;\n        newroutes[1].count = followingnumber;\n        newroutes[2].count = followersnumber;\n        this.setState({\n          tabs: {\n            ...this.state.tabs,\n            newroutes,\n          },\n        });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  onPressPlace = () => {\n    console.log(\"place\");\n  };\n  async componentDidMount() {\n    await this.getIdValue();\n    await this.getUserIdValue();\n    this.fetchUserDetails(this.id);\n    this.getIsFollowing(this.userId, this.id);\n\n    this.willFocusSubscription = this.props.navigation.addListener(\n      \"willFocus\",\n      () => {\n        this.fetchUserDetails(this.props.userDetails);\n      }\n    );\n  }\n\n  getIdValue = async () => {\n    var value = await AsyncStorage.getItem(\"publicProfileId\");\n\n    this.id = value;\n    return value;\n  };\n\n  getUserIdValue = async () => {\n    var value = await AsyncStorage.getItem(\"Id\");\n\n    this.userId = value;\n    return value;\n  };\n\n  componentDidUpdate() {\n    if (this.props.isUploaded) {\n      this.props.navigation.navigate(\"Profile\");\n    }\n    if (!this.props.isUploaded && !this.props.isLoading) {\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (newProps.isUploaded !== this.props.isUploaded) {\n      this.fetchUserDetails(this.props.userDetails);\n    }\n  }\n  clearAppData = async () => {\n    try {\n      const keys = await AsyncStorage.getAllKeys();\n      await AsyncStorage.multiRemove(keys);\n    } catch (error) {\n      console.error(\"Error clearing app data.\");\n    }\n  };\n  componentWillUnmount() {\n    this.willFocusSubscription.remove();\n  }\n\n  handleIndexChange = (index) => {\n    this.setState({\n      tabs: {\n        ...this.state.tabs,\n        index,\n      },\n    });\n  };\n\n  renderTabBar = (props) => {\n    return (\n      <TabBar\n        indicatorStyle={styles.indicatorTab}\n        renderLabel={this.renderLabel(props)}\n        pressOpacity={0.8}\n        style={styles.tabBar}\n        {...props}\n      />\n    );\n  };\n\n  renderLabel =\n    (props) =>\n    ({ route }) => {\n      const routes = props.navigationState.routes;\n\n      let labels = [];\n      routes.forEach((e, index) => {\n        labels.push(index === props.navigationState.index ? \"black\" : \"gray\");\n      });\n\n      const currentIndex = parseInt(route.key) - 1;\n      const color = labels[currentIndex];\n\n      return (\n        <View>\n          <Animated.Text style={[styles.tabLabelText, { color }]}>\n            {route.count}\n          </Animated.Text>\n          <Animated.Text style={[styles.tabLabelNumber, { color }]}>\n            {route.title}\n          </Animated.Text>\n        </View>\n      );\n    };\n\n  ItemSeparatorView = () => {\n    return (\n      <View\n        style={{ height: 0.5, width: \"100%\", backgroundColor: \"#c8c8c8\" }}\n      />\n    );\n  };\n\n  ItemView = ({ item }) => {\n    return (\n      <View style={styles.followUser}>\n        <View style={styles.itemUser}>\n          <View style={styles.userRow}>\n            <Image style={styles.followImage} source={{ uri: item.url }} />\n          </View>\n        </View>\n        <View style={styles.itemUser2}>\n          <View style={styles.userRow}>\n            <View style={{ margin: SIZES.padding * 0.5, alignItems: \"center\" }}>\n              <TouchableOpacity\n                style={{\n                  height: 35,\n                  width: 100,\n                  backgroundColor: \"#023047\",\n                  borderRadius: SIZES.radius / 0.2,\n                  alignItems: \"center\",\n                  justifyContent: \"center\",\n                }}\n                onPress={() => {\n                  if (item.Id) {\n                    AsyncStorage.setItem(\"publicProfileId\", item.Id);\n                    this.setState({ ProfilePubId: item.name._id });\n                    this.props.navigation.navigate(\"ProfilePub\");\n                  }\n                }}\n              >\n                <Text style={{ color: COLORS.white, ...FONTS.h3 }}>\n                  {item.usernameVrai}\n                </Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </View>\n      </View>\n    );\n  };\n\n  renderPosts = (posts) => {\n    return posts.map((post, index) => {\n      var name = this.state.name;\n      var url = post.urlpost;\n      var caption = post.description;\n      var date = post.date;\n      var userpicurl = this.state.url ? this.state.url : false;\n      var id = post.Id;\n\n      return (\n        <PostComponent\n          key={id}\n          imageSource={url}\n          likes={post.likes.length}\n          username={name}\n          userid={this.userId}\n          Id={id}\n          userpicurl={this.state.url}\n          caption={caption}\n          navigation={this.props.navigation}\n          date={date}\n          displaylikes={this.props.displaylikes}\n        />\n      );\n    });\n  };\n\n  renderScene = ({ route: { key } }) => {\n    const { posts } = this.props;\n\n    switch (key) {\n      case \"1\":\n        return this.renderPictures();\n      case \"2\":\n        return (\n          <View>\n            <FlatList\n              data={this.state.following}\n              keyExtractor={(item, index) => index.toString()}\n              ItemSeparatorComponent={this.ItemSeparatorView}\n              renderItem={this.ItemView}\n            />\n          </View>\n        );\n      case \"3\":\n        return (\n          <View>\n            <FlatList\n              data={this.state.followers}\n              keyExtractor={(item, index) => index.toString()}\n              ItemSeparatorComponent={this.ItemSeparatorView}\n              renderItem={this.ItemView}\n            />\n          </View>\n        );\n\n      default:\n        return <View />;\n    }\n  };\n\n  followRequest = async () => {\n    axios({\n      method: \"post\",\n      url: \"/follow\",\n      baseURL: baseURL,\n      data: {\n        Id: this.userId,\n\n        followId: this.id,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.getIsFollowing(this.userId, this.id);\n        this.fetchUserDetails(this.id);\n      })\n\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n  unfollowRequest = async () => {\n    axios({\n      method: \"post\",\n      url: \"/unfollow\",\n      baseURL: baseURL,\n      data: {\n        Id: this.userId,\n\n        followId: this.id,\n      },\n      headers: {\n        \"auth-token\": await AsyncStorage.getItem(\"token\"),\n      },\n    })\n      .then((res) => {\n        this.getIsFollowing(this.userId, this.id);\n        this.fetchUserDetails(this.id);\n      })\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  renderButton(text, color, onPress) {\n    return (\n      <View style={{ margin: SIZES.padding * 0.5, alignItems: \"center\" }}>\n        <TouchableOpacity\n          style={{\n            height: 30,\n            width: 80,\n            backgroundColor: color,\n            borderRadius: SIZES.radius / 0.2,\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n          onPress={onPress}\n        >\n          <Text style={{ color: COLORS.white, ...FONTS.h3 }}>{text}</Text>\n        </TouchableOpacity>\n      </View>\n    );\n  }\n\n  renderContactHeader = () => {\n    let onpress = this.state.isFollowing\n      ? this.unfollowRequest\n      : this.followRequest;\n    let text = this.state.isFollowing ? \"unfollow\" : \"follow\";\n    return (\n      <View style={styles.headerContainer}>\n        <View style={styles.item}>\n          <View style={styles.userRow}>\n            <Image style={styles.userImage} source={{ uri: this.state.url }} />\n          </View>\n        </View>\n\n        <View style={styles.userRow}>\n          <View style={styles.userNameRow}>\n            <Text style={styles.userNameText}>{this.state.name}</Text>\n          </View>\n          <View style={styles.userNameRow}>\n            <Text style={styles.userNameText}>@{this.state.username}</Text>\n          </View>\n          <View style={styles.userBioRow}>\n            <Text style={styles.userBioText}>{this.state.bio}</Text>\n          </View>\n          <View style={styles.item2}>\n            {this.renderButton(text, \"#048ba8\", onpress)}\n          </View>\n        </View>\n      </View>\n    );\n  };\n  renderPictures = () => {\n    if (this.state.posts.length < 1) {\n      return (\n        <View>\n          <Text>AUCUN POST </Text>\n        </View>\n      );\n    } else {\n      return (\n        <View style={styles.masonryContainer}>\n          <View>\n            <View>{this.renderPosts(this.state.posts)}</View>\n          </View>\n        </View>\n      );\n    }\n  };\n\n  render() {\n    return (\n      <ScrollView style={styles.scroll}>\n        <View style={[styles.container, this.props.containerStyle]}>\n          <View style={styles.cardContainer}>\n            {this.renderContactHeader()}\n\n            <TabView\n              style={[styles.tabContainer, this.props.tabContainerStyle]}\n              navigationState={this.state.tabs}\n              renderScene={this.renderScene}\n              renderTabBar={this.renderTabBar}\n              onIndexChange={this.handleIndexChange}\n            />\n          </View>\n        </View>\n      </ScrollView>\n    );\n  }\n}\n\nconst mapStatetoProps = (state) => {\n  return {\n    authToken: state.loginReducer.authToken,\n    userDetails: state.loginReducer.userDetails,\n    isLoading: state.postsReducer.isLoading,\n    isUploaded: state.postsReducer.isUploaded,\n    errMsg: state.postsReducer.errMsg,\n    ProfilePubId: state.ProfilePubId,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    // only map needed dispatches here\n    logout: () => dispatch(logout()),\n    uploadpost: (Data) => dispatch(uploadpost(Data)),\n    displaylikes: (data) => dispatch(displaylikes(data)),\n  };\n};\n\nexport default connect(mapStatetoProps, mapDispatchToProps)(ProfilePub);\n"]},"metadata":{},"sourceType":"module"}